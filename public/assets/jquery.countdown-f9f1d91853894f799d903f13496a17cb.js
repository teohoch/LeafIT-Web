!function(e){e.fn.countdown=function(t,a){function n(e,t){return function(){return t.call(e)}}var o=["seconds","minutes","hours","days","weeks","daysLeft"];return this.each(function(){function r(){if(0===c.closest("html").length)return l(),void s("removed");d--,0>d&&(d=0),f={seconds:d%60,minutes:Math.floor(d/60)%60,hours:Math.floor(d/60/60)%24,days:Math.floor(d/60/60/24),weeks:Math.floor(d/60/60/24/7),daysLeft:Math.floor(d/60/60/24)%7};for(var e=0;e<o.length;e++){var t=o[e];i[t]!=f[t]&&(i[t]=f[t],s(t))}0==d&&(l(),s("finished"))}function s(n){var o=e.Event(n);switch(o.date=new Date((new Date).valueOf()+d),o.value=i[n]||"0",o.toDate=t,o.lasting=f,n){case"seconds":case"minutes":case"hours":o.value=o.value<10?"0"+o.value.toString():o.value.toString();break;default:o.value&&(o.value=o.value.toString())}a.call(c,o)}function l(){clearInterval(v)}function u(){c.data("countdownInterval",setInterval(n(c,r),1e3)),v=c.data("countdownInterval")}if(!(t instanceof Date))if(String(t).match(/^[0-9]*$/))t=new Date(t);else if(t.match(/([0-9]{1,2})\/([0-9]{1,2})\/([0-9]{2,4})\s([0-9]{1,2})\:([0-9]{2})\:([0-9]{2})/)||t.match(/([0-9]{2,4})\/([0-9]{1,2})\/([0-9]{1,2})\s([0-9]{1,2})\:([0-9]{2})\:([0-9]{2})/))t=new Date(t);else{if(!t.match(/([0-9]{1,2})\/([0-9]{1,2})\/([0-9]{2,4})/)&&!t.match(/([0-9]{2,4})\/([0-9]{1,2})\/([0-9]{1,2})/))throw new Error("Doesn't seen to be a valid date object or string");t=new Date(t)}var c=e(this),i={},f={},v=c.data("countdownInterval"),h=new Date,d=Math.floor((t.valueOf()-h.valueOf())/1e3);r(),v&&l(),u()})}}(jQuery);